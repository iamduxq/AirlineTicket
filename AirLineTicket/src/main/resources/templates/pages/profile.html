<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layout/decorators}">
<head>
    <title>Hồ sơ cá nhân</title>
</head>
<body>
    <section layout:fragment="content">
        <!-- Profile Section -->
        <section class="profile-section">
            <div class="container">
                <div class="profile-container">
                    <!-- Profile Sidebar -->
                    <div class="profile-sidebar">
                        <div class="profile-card">
                            <div class="profile-avatar">
                                <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=120&h=120&fit=crop&crop=face"
                                    alt="Avatar">
                                <button class="change-avatar-btn" onclick="changeAvatar()">
                                    <i class="fas fa-camera"></i>
                                </button>
                            </div>
                            <div class="profile-info">
                                <h3 id="profileName">Nguyễn Văn A</h3>
                                <p id="profileEmail">nguyenvana@email.com</p>
                                <div class="profile-level">
                                    <i class="fas fa-star"></i>
                                    <span>Thành viên VIP</span>
                                </div>
                            </div>
                        </div>

                        <div class="profile-menu">
                            <a href="#personal-info" class="menu-item active" onclick="showTab('personal-info')">
                                <i class="fas fa-user"></i>
                                Thông tin cá nhân
                            </a>
                            <a href="#booking-history" class="menu-item" onclick="showTab('booking-history')">
                                <i class="fas fa-history"></i>
                                Lịch sử đặt vé
                            </a>
                            <a href="#favorites" class="menu-item" onclick="showTab('favorites')">
                                <i class="fas fa-heart"></i>
                                Yêu thích
                            </a>
                            <a href="#notifications" class="menu-item" onclick="showTab('notifications')">
                                <i class="fas fa-bell"></i>
                                Thông báo
                            </a>
                            <a href="#settings" class="menu-item" onclick="showTab('settings')">
                                <i class="fas fa-cog"></i>
                                Cài đặt
                            </a>
                        </div>
                    </div>

                    <!-- Profile Content -->
                    <div class="profile-content">
                        <!-- Personal Info Tab -->
                        <div id="personal-info" class="tab-content active">
                            <div class="content-header">
                                <h2>Thông tin cá nhân</h2>
                                <button class="edit-btn" onclick="editProfile()">
                                    <i class="fas fa-edit"></i>
                                    Chỉnh sửa
                                </button>
                            </div>

                            <div class="info-grid">
                                <div class="info-card">
                                    <h3>Thông tin cơ bản</h3>
                                    <div class="info-item">
                                        <label>Họ tên</label>
                                        <span id="displayName">Nguyễn Văn A</span>
                                    </div>
                                    <div class="info-item">
                                        <label>Email</label>
                                        <span id="displayEmail">nguyenvana@email.com</span>
                                    </div>
                                    <div class="info-item">
                                        <label>Số điện thoại</label>
                                        <span id="displayPhone">0123456789</span>
                                    </div>
                                    <div class="info-item">
                                        <label>Ngày sinh</label>
                                        <span id="displayBirthDate">15/03/1990</span>
                                    </div>
                                    <div class="info-item">
                                        <label>Giới tính</label>
                                        <span id="displayGender">Nam</span>
                                    </div>
                                </div>

                                <div class="info-card">
                                    <h3>Thông tin du lịch</h3>
                                    <div class="info-item">
                                        <label>Số vé đã đặt</label>
                                        <span>12 vé</span>
                                    </div>
                                    <div class="info-item">
                                        <label>Tổng chi tiêu</label>
                                        <span>25,500,000 VNĐ</span>
                                    </div>
                                    <div class="info-item">
                                        <label>Điểm tích lũy</label>
                                        <span>2,550 điểm</span>
                                    </div>
                                    <div class="info-item">
                                        <label>Cấp độ thành viên</label>
                                        <span class="member-level vip">VIP</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Booking History Tab -->
                        <div id="booking-history" class="tab-content">
                            <div class="content-header">
                                <h2>Lịch sử đặt vé</h2>
                                <div class="filter-options">
                                    <select id="statusFilter">
                                        <option value="all">Tất cả</option>
                                        <option value="confirmed">Đã xác nhận</option>
                                        <option value="pending">Chờ xác nhận</option>
                                        <option value="cancelled">Đã hủy</option>
                                    </select>
                                </div>
                            </div>

                            <div class="booking-history-list">
                                <div class="booking-item">
                                    <div class="booking-header">
                                        <div class="booking-code">SKY123456</div>
                                        <div class="booking-status confirmed">Đã xác nhận</div>
                                        <div class="booking-date">15/02/2024</div>
                                    </div>
                                    <div class="booking-details">
                                        <div class="route">Hồ Chí Minh → Hà Nội</div>
                                        <div class="airline">Vietnam Airlines</div>
                                        <div class="price">1,200,000 VNĐ</div>
                                    </div>
                                    <div class="booking-actions">
                                        <button class="action-btn view" onclick="viewBooking('SKY123456')">
                                            <i class="fas fa-eye"></i> Xem chi tiết
                                        </button>
                                        <button class="action-btn download" onclick="downloadTicket('SKY123456')">
                                            <i class="fas fa-download"></i> Tải vé
                                        </button>
                                    </div>
                                </div>

                                <div class="booking-item">
                                    <div class="booking-header">
                                        <div class="booking-code">SKY789012</div>
                                        <div class="booking-status pending">Chờ xác nhận</div>
                                        <div class="booking-date">20/02/2024</div>
                                    </div>
                                    <div class="booking-details">
                                        <div class="route">Hồ Chí Minh → Bangkok</div>
                                        <div class="airline">Thai Airways</div>
                                        <div class="price">3,500,000 VNĐ</div>
                                    </div>
                                    <div class="booking-actions">
                                        <button class="action-btn view" onclick="viewBooking('SKY789012')">
                                            <i class="fas fa-eye"></i> Xem chi tiết
                                        </button>
                                        <button class="action-btn modify" onclick="modifyBooking('SKY789012')">
                                            <i class="fas fa-edit"></i> Sửa đổi
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Favorites Tab -->
                        <div id="favorites" class="tab-content">
                            <div class="content-header">
                                <h2>Điểm đến yêu thích</h2>
                            </div>

                            <div class="favorites-grid">
                                <div class="favorite-item">
                                    <img src="https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=300"
                                        alt="Hồ Chí Minh">
                                    <div class="favorite-info">
                                        <h3>Hồ Chí Minh</h3>
                                        <p>Từ 1,200,000 VNĐ</p>
                                        <button class="remove-favorite" onclick="removeFavorite('Hồ Chí Minh')">
                                            <i class="fas fa-heart-broken"></i>
                                        </button>
                                    </div>
                                </div>

                                <div class="favorite-item">
                                    <img src="https://images.unsplash.com/photo-1528181304800-259b08848526?w=300"
                                        alt="Bangkok">
                                    <div class="favorite-info">
                                        <h3>Bangkok</h3>
                                        <p>Từ 3,500,000 VNĐ</p>
                                        <button class="remove-favorite" onclick="removeFavorite('Bangkok')">
                                            <i class="fas fa-heart-broken"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Notifications Tab -->
                        <div id="notifications" class="tab-content">
                            <div class="content-header">
                                <h2>Thông báo</h2>
                                <button class="mark-all-read" onclick="markAllAsRead()">
                                    Đánh dấu tất cả đã đọc
                                </button>
                            </div>

                            <div class="notifications-list">
                                <div class="notification-item unread">
                                    <div class="notification-icon">
                                        <i class="fas fa-plane"></i>
                                    </div>
                                    <div class="notification-content">
                                        <h4>Chuyến bay sắp tới</h4>
                                        <p>Chuyến bay VN123 từ Hồ Chí Minh đến Hà Nội sẽ khởi hành trong 2 giờ</p>
                                        <span class="notification-time">2 giờ trước</span>
                                    </div>
                                </div>

                                <div class="notification-item">
                                    <div class="notification-icon">
                                        <i class="fas fa-gift"></i>
                                    </div>
                                    <div class="notification-content">
                                        <h4>Ưu đãi đặc biệt</h4>
                                        <p>Giảm 20% cho tất cả vé máy bay nội địa trong tháng này</p>
                                        <span class="notification-time">1 ngày trước</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Settings Tab -->
                        <div id="settings" class="tab-content">
                            <div class="content-header">
                                <h2>Cài đặt</h2>
                            </div>

                            <div class="settings-grid">
                                <div class="settings-card">
                                    <h3>Thông báo</h3>
                                    <div class="setting-item">
                                        <label>Email thông báo</label>
                                        <label class="switch">
                                            <input type="checkbox" checked>
                                            <span class="slider"></span>
                                        </label>
                                    </div>
                                    <div class="setting-item">
                                        <label>Thông báo giá vé</label>
                                        <label class="switch">
                                            <input type="checkbox" checked>
                                            <span class="slider"></span>
                                        </label>
                                    </div>
                                    <div class="setting-item">
                                        <label>Thông báo khuyến mãi</label>
                                        <label class="switch">
                                            <input type="checkbox">
                                            <span class="slider"></span>
                                        </label>
                                    </div>
                                </div>

                                <div class="settings-card">
                                    <h3>Bảo mật</h3>
                                    <button class="change-password-btn" onclick="changePassword()">
                                        <i class="fas fa-key"></i>
                                        Đổi mật khẩu
                                    </button>
                                    <button class="two-factor-btn" onclick="enableTwoFactor()">
                                        <i class="fas fa-shield-alt"></i>
                                        Bật xác thực 2 bước
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Edit Profile Modal -->
        <div id="editProfileModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Chỉnh sửa thông tin</h2>
                <form id="editProfileForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="editFirstName">Họ</label>
                            <input type="text" id="editFirstName" name="firstName" value="Nguyễn">
                        </div>
                        <div class="form-group">
                            <label for="editLastName">Tên</label>
                            <input type="text" id="editLastName" name="lastName" value="Văn A">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="editPhone">Số điện thoại</label>
                        <input type="tel" id="editPhone" name="phone" value="0123456789">
                    </div>
                    <div class="form-group">
                        <label for="editBirthDate">Ngày sinh</label>
                        <input type="date" id="editBirthDate" name="birthDate" value="1990-03-15">
                    </div>
                    <div class="form-group">
                        <label>Giới tính</label>
                        <div class="radio-group">
                            <label class="radio-container">
                                <input type="radio" name="gender" value="male" checked>
                                <span class="radio-mark"></span>
                                Nam
                            </label>
                            <label class="radio-container">
                                <input type="radio" name="gender" value="female">
                                <span class="radio-mark"></span>
                                Nữ
                            </label>
                        </div>
                    </div>
                    <button type="submit" class="save-btn">Lưu thay đổi</button>
                </form>
            </div>
        </div>
    </section>
</body>

</html>